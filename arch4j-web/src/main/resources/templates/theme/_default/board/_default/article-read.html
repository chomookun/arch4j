<!-- board title -->
<div class="container">
    <div class="col-6">
        <h1>
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-board.svg(_theme=${_theme})}"/>
            <span data-th-text="${board.name}"></span>
        </h1>
    </div>
    <div class="col-6 justify-right">
        <button onclick="gotoList();">
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-list.svg(_theme=${_theme})}"/>
            <span data-th-text="#{web.text.list}"></span>
        </button>
        <button onclick="gotoEdit();">
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-edit.svg(_theme=${_theme})}"/>
            <span data-th-text="#{web.text.edit}"></span>
        </button>
    </div>
</div>
<hr/>
<!-- article title -->
<div class="container padding-x-1em">
    <h2 class="col-12">
        <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-title.svg(_theme=${_theme})}"/>
        <span data-duice-object="article" data-duice-property="title" class="font-weight-bold"></span>
    </h2>
    <div class="col-12">
        <span style="display:inline-block; min-width:100px;">
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-user.svg(_theme=${_theme})}"/>
            <span data-th-text="#{core.article.userName}"></span>
            :
            <span data-duice-object="article" data-duice-property="userName"></span>
        </span>
        <span>
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-created-at.svg(_theme=${_theme})}"/>
            <span data-th-text="#{core.article.dateTime}"></span>
            :
            <span data-duice-object="article" data-duice-property="dateTime" data-duice-format="date('yyyy-MM-dd HH:mm')"></span>
        </span>
        <span>
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-comment.svg(_theme=${_theme})}"/>
            <span data-duice-object="article" data-duice-property="commentCount"></span>
        </span>
        <span>
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-like.svg(_theme=${_theme})}"/>
            <span data-duice-object="article" data-duice-property="likeCount"></span>
        </span>
    </div>
</div>
<!-- article content -->
<div class="container">
    <div class="col-12">
        <div data-duice-object="article" data-duice-property="content" style="min-height:50vh;">
        </div>
    </div>
</div>
<!-- file -->
<div class="content padding-x-1em">
    <div class="col-12 font-weight-bold">
        <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-file.svg(_theme=${_theme})}"/>
        <span data-th-text="#{core.article.files}"></span>
    </div>
    <div class="col-12">
        <div data-duice-array="article.files" data-duice-loop="file,status" class="margin-right-1em">
            <span data-duice-object="file" data-duice-property="filename"
                  data-duice-script="this.dataset.fileId=file.id"
                  class="cursor-pointer font-weight-bold"
                  onclick="downloadFile(this.dataset.fileId);">
            </span>
            <span class="font-size-smaller" data-duice-object="file" data-duice-script="
                this.innerHTML = `(${file.length} bytes)`;
                ">
            </span>
        </div>
    </div>
</div>
<hr/>
<!-- comment title -->
<div class="container padding-x-1em">
    <div class="col-12">
        <h2>
            <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-comment.svg(_theme=${_theme})}"/>
            <span data-th-text="#{core.comment}"></span>
        </h2>
    </div>
</div>
<!-- comment list -->
<div class="container">
    <div class="col-12">
        <div class="container padding-top-1em padding-bottom-1rem" data-duice-array="comments" data-duice-loop="comment,status" data-duice-hierarchy="id,parentId"
             data-duice-script="this.style.marginLeft = (status.depth*1) + 'em';">
            <div class="col-12">
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-comment.svg(_theme=${_theme})}"
                    data-duice-object="comment" data-duice-script="
                    if(comment.parentId) {
                        this.hidden = true;
                    }else{
                        this.hidden = false;
                    }
                    "/>
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-comment-child.svg(_theme=${_theme})}"
                    data-duice-object="comment" data-duice-script="
                    if(comment.parentId) {
                        this.hidden = false;
                    }else{
                        this.hidden = true;
                    }
                    "/>
                <span style="display:inline-block; min-width:100px;">
                    <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-user.svg(_theme=${_theme})}"/>
                    <span data-th-text="#{core.comment.userName}"></span>
                    <span data-duice-object="comment" data-duice-property="userName"></span>
                </span>
                <span>
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-created-at.svg(_theme=${_theme})}"/>
                <span data-th-text="#{core.comment.createdAt}"></span>
                :
                <span data-duice-object="comment" data-duice-property="dateTime"
                      data-duice-format="date('yyyy-MM-dd HH:mm')"></span>
            </span>
                <span>
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-like.svg(_theme=${_theme})}"/>
                <span data-duice-object="comment" data-duice-property="likeCount"></span>
            </span>
            </div>
            <div class="col-12">
                <div data-duice-object="comment" data-duice-property="content"></div>
            </div>
            <div class="col-12">
                <span data-duice-object="comment" data-duice-script="this.dataset.id=comment.id;"
                      onclick="addComment(this.dataset.id);" style="text-decoration:underline;">
                    [<span data-th-text="#{web.text.reply}"></span>]
                </span>
            </div>
            <div data-duice-object="comment" data-duice-script="this.dataset.commentId=comment.id" class="col-12"></div>
        </div>
    </div>
</div>
<!-- comment post -->
<div id="comment-post-container">
    <div id="comment-post" class="container">
        <div class="col-12">
            <textarea data-duice-object="comment" data-duice-property="content" rows="5" class="width-100"></textarea>
            <button onclick="saveComment();">
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-save.svg(_theme=${_theme})}"/>
                <span data-th-text="#{web.text.save}"></span>
            </button>
            <button onclick="clearComment();">
                <img class="icon" th:src="@{/static/theme/{_theme}/image/icon-cancel.svg(_theme=${_theme})}"/>
                <span data-th-text="#{web.text.cancel}"></span>
            </button>
        </div>
    </div>
</div>

