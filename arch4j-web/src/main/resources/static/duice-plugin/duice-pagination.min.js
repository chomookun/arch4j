/*!
 * duice-pagination - v0.3.2
 * git: https://gitbub.com/chomookun/duice-plugin
 * website: https://duice-plugin.chomookun.org
 * Released under the LGPL(GNU Lesser General Public License version 3) License
 */
this.duice=this.duice||{},this.duice.plugin=this.duice.plugin||{},this.duice.plugin.Pagination=function(e,t){"use strict";class n extends t.CustomElement{constructor(e,n,i){super(e,n,i),this.prevContent="<",this.nextContent=">",this.pageNumberSize=10,this.pageProperty=t.getElementAttribute(e,"page-property"),this.sizeProperty=t.getElementAttribute(e,"size-property"),this.totalProperty=t.getElementAttribute(e,"total-property"),this.onclick=new Function(t.getElementAttribute(e,"onclick")),this.pageNumberSize=Number(t.getElementAttribute(e,"page-number-size")||this.pageNumberSize),this.prevContent=t.getElementAttribute(e,"prev-content")||this.prevContent,this.nextContent=t.getElementAttribute(e,"next-content")||this.nextContent}doRender(e){let n=Number(e[this.pageProperty]),i=Number(e[this.sizeProperty]),a=Number(e[this.totalProperty]),o=Math.ceil(a/i),r=Math.floor(n/this.pageNumberSize)*this.pageNumberSize,s=Math.min(r+(this.pageNumberSize-1),o-1);s=Math.max(s,0);let l=document.createElement("span");l.innerHTML=this.prevContent,l.classList.add(`${t.Configuration.getNamespace()}-pagination__prev`),l.dataset.page=String(Math.max(r-this.pageNumberSize,0)),l.addEventListener("click",(()=>{this.onclick.call(l)})),n<this.pageNumberSize&&l.classList.add(`${t.Configuration.getNamespace()}-pagination__prev--disable`);let p=document.createElement("ul");p.classList.add(`${t.Configuration.getNamespace()}-pagination-pageable`);for(let e=r;e<=s;e++){let i=document.createElement("li");i.appendChild(document.createTextNode(String(e+1))),i.dataset.page=String(e),i.classList.add(`${t.Configuration.getNamespace()}-pagination__pageable-item`),e===n&&i.classList.add(`${t.Configuration.getNamespace()}-pagination__pageable-item--active`),i.addEventListener("click",(()=>{this.onclick.call(i)})),p.appendChild(i)}let g=document.createElement("span");g.innerHTML=this.nextContent,g.classList.add(`${t.Configuration.getNamespace()}-pagination__next`),g.dataset.page=String(Math.min(s+1,o)),g.addEventListener("click",(()=>{this.onclick.call(g)})),s>=o-1&&g.classList.add(`${t.Configuration.getNamespace()}-pagination__next--disable`),this.getHtmlElement().innerHTML="",this.getHtmlElement().appendChild(this.createStyle()),this.getHtmlElement().appendChild(l),this.getHtmlElement().appendChild(p),this.getHtmlElement().appendChild(g);const c=this.getHtmlElement().querySelector(".duice-pagination__pageable-item--active");null==c||c.scrollIntoView({behavior:"instant",inline:"center",block:"nearest"})}doUpdate(e){this.render()}createStyle(){let e=document.createElement("style");return e.innerHTML=`\n            ${t.Configuration.getNamespace()}-pagination {\n                display: inline-flex;\n                gap: 0.5em;\n                overflow: hidden;\n            }\n      \n            .${t.Configuration.getNamespace()}-pagination__prev {\n                cursor: pointer;\n            }\n            .${t.Configuration.getNamespace()}-pagination__prev--disable {\n                pointer-events: none;\n            }\n            .${t.Configuration.getNamespace()}-pagination__next {\n                cursor: pointer;\n            }\n            .${t.Configuration.getNamespace()}-pagination__next--disable {\n                pointer-events: none;\n            }\n            .${t.Configuration.getNamespace()}-pagination-pageable {\n                list-style: none;\n                display: flex;\n                gap: 0.5em;\n                padding-left: 0;\n                margin: 0;\n                overflow-x: scroll;\n            }\n            .${t.Configuration.getNamespace()}-pagination__pageable-item {\n                cursor: pointer;\n            } \n            .${t.Configuration.getNamespace()}-pagination__pageable-item--active {\n                font-weight: bold;\n                text-decoration: underline;\n                pointer-events: none;\n            }\n            .${t.Configuration.getNamespace()}-pagination__pageable-item--disable {\n                pointer-events: none;\n            }\n        `,e}}class i extends t.CustomElementFactory{doCreateElement(e,t,i){return new n(e,t,i)}}return t.ElementRegistry.register(`${t.Configuration.getNamespace()}-pagination`,new i),e.PaginationElement=n,e.PaginationElementFactory=i,Object.defineProperty(e,"__esModule",{value:!0}),e}({},duice);
//# sourceMappingURL=duice-pagination.min.js.map
